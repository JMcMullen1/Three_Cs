/* ==========================================
   CSS Variables - Color Scheme & Theme
   ========================================== */
:root {
    /* Primary Color Scheme */
    --primary-color: #667eea;
    --primary-dark: #5a67d8;
    --success-color: #4ade80;
    --warning-color: #ffa500;
    --danger-color: #f87171;
    --light-gray: #f8f9fa;
    --medium-gray: #e0e0e0;
    --dark-blue: #2b3d6d;
    --text-color: #333;

    /* TAA Brand Colors */
    --taa-navy: #1e3a5f;
    --taa-blue: #2563eb;
    --taa-teal: #0891b2;
    --taa-orange: #f97316;

    /* Gradient Themes */
    --primary-gradient: linear-gradient(135deg, #2b3d6d 0%, #667eea 100%);
    --secondary-gradient: linear-gradient(135deg, #667eea 0%, #4ade80 100%);
    --accent-gradient: linear-gradient(135deg, #ffa500 0%, #f87171 100%);

    /* Glass Morphism Effects */
    --glass-bg: rgba(255, 255, 255, 0.9);
    --glass-border: rgba(224, 224, 224, 0.3);
    --dark-overlay: rgba(43, 61, 109, 0.95);
}

/* ==========================================
   Global Styles & Reset
   ========================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: linear-gradient(135deg, var(--dark-blue) 0%, var(--primary-color) 100%);
    position: relative;
    color: var(--text-color);
    height: 100vh;
    overflow: hidden;
}

        /* Static background - animations removed */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 0;
        }

        .floating-shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .shape {
            position: absolute;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 50%;
            filter: blur(40px);
        }

        .shape:nth-child(1) {
            width: 300px;
            height: 300px;
            top: 10%;
            left: 10%;
        }

        .shape:nth-child(2) {
            width: 200px;
            height: 200px;
            top: 60%;
            right: 10%;
        }

        .shape:nth-child(3) {
            width: 250px;
            height: 250px;
            bottom: 10%;
            left: 30%;
        }


        /* TAA Header Banner */
        .taa-header {
            background: linear-gradient(135deg, var(--dark-blue) 0%, var(--primary-color) 100%);
            padding: 1rem 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 20;
            border-bottom: 3px solid var(--warning-color);
        }

        .taa-header-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .taa-logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .taa-logo-text {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .taa-tagline {
            color: var(--light-gray);
            font-size: 0.9rem;
            font-style: italic;
            text-align: right;
        }

        /* Three C's Banner */
        .three-cs-banner {
            background: linear-gradient(to right,
                rgba(255, 165, 0, 0.15) 0%,
                rgba(102, 126, 234, 0.15) 50%,
                rgba(43, 61, 109, 0.15) 100%);
            padding: 0.8rem 2rem;
            display: flex;
            justify-content: center;
            gap: 3rem;
            position: relative;
            z-index: 20;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(224, 224, 224, 0.3);
        }

        .three-c-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: white;
            font-weight: 600;
            font-size: 0.95rem;
            transition: transform 0.3s;
        }

        .three-c-item:hover {
            transform: translateY(-2px);
        }

        .three-c-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .confidence-icon {
            background: var(--accent-gradient);
        }

        .competence-icon {
            background: var(--secondary-gradient);
        }

        .career-icon {
            background: var(--primary-gradient);
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 300px 600px;
            gap: 0;
            height: calc(100vh - 120px);
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        /* Chat Area with Glassmorphism */
        .chat-area {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-right: 1px solid var(--glass-border);
            display: flex;
            flex-direction: column;
            height: 100%;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            position: relative;
            overflow: hidden;
        }

        .chat-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 100%);
            pointer-events: none;
        }

        .chat-header {
            padding: 1.5rem 2rem;
            background: var(--primary-gradient);
            color: white;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
            box-shadow: 0 4px 30px rgba(0,0,0,0.1);
        }

        .chat-header::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }

        .chat-header h1 {
            font-size: 1.6rem;
            margin-bottom: 0.3rem;
            font-weight: 700;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .chat-header p {
            font-size: 0.95rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            min-height: 0;
            scroll-behavior: smooth;
        }

        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        .message {
            /* Animation removed */
        }

        .bot-message, .user-message {
            max-width: 75%;
            padding: 0.9rem 1.3rem;
            border-radius: 1.5rem;
            word-wrap: break-word;
            font-size: 0.95rem;
            line-height: 1.6;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .bot-message:hover, .user-message:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .bot-message {
            background: white;
            align-self: flex-start;
            border-bottom-left-radius: 0.5rem;
            border: 2px solid var(--light-gray);
            color: var(--text-color);
        }

        .user-message {
            background: var(--secondary-gradient);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 0.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            margin-top: 1rem;
        }

        .quick-reply-btn {
            padding: 0.6rem 1.2rem;
            background: white;
            border: 2px solid var(--medium-gray);
            color: var(--primary-color);
            border-radius: 2rem;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
        }

        .quick-reply-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .quick-reply-btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .chat-input-area {
            padding: 1.2rem 2rem;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border);
            flex-shrink: 0;
        }

        .chat-input-row {
            display: flex;
            gap: 0.8rem;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 0.9rem 1.2rem;
            background: rgba(255,255,255,0.9);
            border: 2px solid transparent;
            border-radius: 2rem;
            font-size: 0.95rem;
            transition: all 0.3s;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary-color);
            background: white;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
        }

        .send-btn {
            padding: 0.9rem 1.8rem;
            background: var(--secondary-gradient);
            color: white;
            border: none;
            border-radius: 2rem;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            position: relative;
            overflow: hidden;
        }

        .send-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .send-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(8, 145, 178, 0.5);
        }

        .send-btn:active {
            transform: translateY(0);
        }

        /* Styled Dropdown */
        .styled-select {
            width: 100%;
            padding: 0.9rem 1.2rem;
            background: rgba(255,255,255,0.95);
            border: 2px solid transparent;
            border-radius: 0.8rem;
            font-size: 0.95rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            appearance: none;
            background-image: linear-gradient(45deg, transparent 50%, var(--taa-teal) 50%),
                              linear-gradient(135deg, var(--taa-teal) 50%, transparent 50%);
            background-position: calc(100% - 20px) calc(1rem + 5px),
                                calc(100% - 15px) calc(1rem + 5px);
            background-size: 5px 5px, 5px 5px;
            background-repeat: no-repeat;
            margin-bottom: 1rem;
        }

        .styled-select:hover {
            border-color: var(--taa-teal);
            background-color: white;
            box-shadow: 0 6px 20px rgba(8, 145, 178, 0.15);
        }

        .styled-select:focus {
            outline: none;
            border-color: var(--taa-teal);
            box-shadow: 0 0 0 4px rgba(8, 145, 178, 0.1);
            background-color: white;
        }

        .styled-select:has(option:checked:not([value=""])) {
            border-color: var(--taa-teal);
            background: linear-gradient(to right, rgba(8, 145, 178, 0.05), rgba(255,255,255,0.95));
        }

        .styled-select option {
            padding: 0.5rem;
            background: white;
            color: var(--text-primary);
        }

        .styled-select optgroup {
            font-weight: 600;
            color: var(--taa-blue);
            background: rgba(37, 99, 235, 0.05);
        }

        .styled-select option:checked {
            background: var(--secondary-gradient);
            color: white;
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
        }

        .submit-btn.ready {
            /* Animation removed */
        }

        /* Form Elements with Modern Styling */
        .form-container {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            padding: 1.3rem;
            border-radius: 1rem;
            margin: 0.75rem 0;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .form-container h3 {
            margin-bottom: 1rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.05rem;
            font-weight: 600;
        }

        .checkbox-group, .radio-group {
            display: flex;
            flex-direction: column;
            gap: 0.7rem;
        }

        .checkbox-item, .radio-item {
            display: flex;
            align-items: center;
            gap: 0.7rem;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: background 0.2s;
        }

        .checkbox-item:hover, .radio-item:hover {
            background: rgba(8, 145, 178, 0.05);
        }

        .checkbox-item label, .radio-item label {
            font-size: 0.95rem;
            cursor: pointer;
            flex: 1;
        }

        input[type="checkbox"], input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--taa-teal);
        }

        /* Skill Widget with Animations */
        .skill-widget {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 1rem;
            padding: 1.3rem;
            margin: 0.75rem 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .skill-input {
            width: 100%;
            padding: 0.7rem 1rem;
            border: 2px solid transparent;
            background: rgba(255,255,255,0.9);
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        .skill-input:focus {
            outline: none;
            border-color: var(--taa-teal);
            box-shadow: 0 0 0 4px rgba(8, 145, 178, 0.1);
        }

        #selectedSkills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            margin-bottom: 1rem;
            min-height: 2.5rem;
            padding: 0.5rem;
            background: rgba(255,255,255,0.5);
            border-radius: 0.5rem;
        }

        .skill-limit-notice {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-style: italic;
        }

        .skill-tag {
            background: var(--secondary-gradient);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 2rem;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            font-size: 0.9rem;
            box-shadow: 0 4px 10px rgba(8, 145, 178, 0.3);
            transition: transform 0.2s;
        }

        .skill-tag:hover {
            transform: scale(1.05);
        }

        .skill-tag .remove {
            cursor: pointer;
            font-weight: bold;
            opacity: 0.9;
            font-size: 1.2rem;
            transition: transform 0.2s;
        }

        .skill-tag .remove:hover {
            transform: rotate(90deg);
        }

        .suggested-skills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .suggested-skill {
            padding: 0.4rem 0.9rem;
            background: rgba(255,255,255,0.9);
            border: 2px solid transparent;
            background-clip: padding-box;
            border-radius: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.85rem;
            font-weight: 500;
            position: relative;
        }

        .suggested-skill::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 1rem;
            padding: 2px;
            background: var(--secondary-gradient);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .suggested-skill:hover:not(.disabled)::before {
            opacity: 1;
        }

        .suggested-skill:hover:not(.disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .suggested-skill.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(200,200,200,0.3);
        }

        .submit-btn {
            margin-top: 0.8rem;
            padding: 0.8rem 1.6rem;
            background: var(--accent-gradient);
            color: white;
            border: none;
            border-radius: 0.6rem;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 165, 0, 0.4);
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 165, 0, 0.5);
        }

        /* Context Panel with Glassmorphism */
        .context-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 2rem;
            overflow-y: auto;
            height: 100%;
            transition: all 0.4s ease;
            position: relative;
        }

        .context-panel::-webkit-scrollbar {
            width: 8px;
        }

        .context-panel::-webkit-scrollbar-track {
            background: rgba(224, 224, 224, 0.3);
        }

        .context-panel::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }

        .context-panel::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        .panel-content {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            height: 100%;
            position: relative;
        }

        .panel-content h2 {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .panel-content p, .panel-content li {
            font-size: 0.95rem;
            line-height: 1.7;
            color: var(--text-color);
        }

        .three-cs-info {
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .c-card {
            padding: 1.2rem;
            border-radius: 0.8rem;
            border-left: 4px solid;
            background: white;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .c-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .c-card.confidence {
            border-color: var(--warning-color);
        }

        .c-card.competence {
            border-color: var(--success-color);
        }

        .c-card.career {
            border-color: var(--primary-color);
        }

        .c-card h3 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .c-card p {
            font-size: 0.85rem;
            margin: 0;
        }

        /* Career Map Overlay with Modern Design - HIDDEN */
        .overlay {
            display: none !important;
        }

        .overlay.active {
            display: none !important;
        }

        .overlay-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(248,250,252,0.95));
            border-radius: 1.5rem;
            padding: 2.5rem;
            max-width: 95%;
            max-height: 90%;
            overflow: auto;
            position: relative;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
        }

        .close-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 2.5rem;
            height: 2.5rem;
            background: var(--accent-gradient);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.4);
            z-index: 10;
        }

        .close-btn:hover {
            transform: rotate(90deg) scale(1.1);
        }

        .overlay-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .overlay-header h2 {
            background: linear-gradient(135deg, var(--taa-navy), var(--taa-blue), var(--taa-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .overlay-header p {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Career Map Panel */
        .career-map-panel {
            background: white;
            overflow: auto;
            position: relative;
            border-left: 2px solid var(--medium-gray);
            display: flex;
            flex-direction: column;
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.05);
        }

        .career-map-panel.fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 2000;
            border: none;
        }

        .career-map-header {
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, var(--dark-blue) 0%, var(--primary-color) 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .career-map-header-text {
            flex: 1;
        }

        .career-map-header h2 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .career-map-header p {
            margin: 0.3rem 0 0 0;
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .fullscreen-btn {
            background: white;
            color: var(--dark-blue);
            border: 2px solid white;
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .fullscreen-btn:hover {
            background: var(--warning-color);
            color: white;
            border-color: var(--warning-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .fullscreen-btn:active {
            transform: translateY(0);
        }

        .career-map-content {
            flex: 1;
            padding: 2rem;
            overflow: auto;
            background: var(--light-gray);
        }

        .career-map-content::-webkit-scrollbar {
            width: 10px;
        }

        .career-map-content::-webkit-scrollbar-track {
            background: var(--medium-gray);
        }

        .career-map-content::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 5px;
        }

        .career-map-content::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* SVG Container Styling */
        #CareerMapSVG {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            padding: 1rem;
        }

        /* Summary styles with gradients */
        .skill-badge {
            display: inline-block;
            background: var(--secondary-gradient);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 1.5rem;
            margin: 0.3rem;
            font-size: 0.85rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
            transition: transform 0.2s ease;
        }

        .skill-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .summary-list {
            list-style-position: inside;
            padding-left: 0;
            margin-top: 0.7rem;
        }

        /* Mobile responsive */
        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }

            .context-panel {
                position: fixed;
                right: -100%;
                top: 120px;
                width: 350px;
                height: calc(100vh - 120px);
                box-shadow: -5px 0 20px rgba(0,0,0,0.2);
            }

            .context-panel.active {
                right: 0;
            }

            .three-cs-banner {
                gap: 1.5rem;
            }

            .three-c-item {
                font-size: 0.85rem;
            }
        }

        @media (max-width: 768px) {
            .floating-shapes { display: none; }

            .taa-header {
                padding: 0.8rem 1rem;
            }

            .taa-header-content {
                flex-direction: column;
                gap: 0.5rem;
                text-align: center;
            }

            .taa-logo-text {
                font-size: 1.2rem;
            }

            .three-cs-banner {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem 1rem;
            }

            .three-c-item {
                font-size: 0.8rem;
            }

            .chat-header {
                padding: 1.2rem 1.5rem;
            }

            .chat-header h1 {
                font-size: 1.3rem;
            }

            .chat-messages {
                padding: 1rem 1.2rem;
            }

            .bot-message, .user-message {
                max-width: 85%;
                font-size: 0.9rem;
            }

            .context-panel {
                display: none;
            }

            .overlay-content {
                padding: 2rem;
                max-width: 95%;
                max-height: 95%;
            }

            .overlay-header h2 {
                font-size: 1.5rem;
            }

            .map-trigger {
                display: none !important;
            }

            .styled-select {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 1rem 1.2rem;
            }

            select, input, textarea {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <!-- TAA Header -->
    <div class="taa-header">
        <div class="taa-header-content">
            <div class="taa-logo">
                <div class="taa-logo-text">The Apprentice Academy</div>
            </div>
            <div class="taa-tagline">Empowering Futures Through Learning</div>
        </div>
    </div>

    <!-- Three C's Banner -->
    <div class="three-cs-banner">
        <div class="three-c-item confidence">
            <div class="three-c-icon confidence-icon">ðŸ’ª</div>
            <span>Confidence</span>
        </div>
        <div class="three-c-item competence">
            <div class="three-c-icon competence-icon">ðŸŽ¯</div>
            <span>Competence</span>
        </div>
        <div class="three-c-item career">
            <div class="three-c-icon career-icon">ðŸš€</div>
            <span>Career Capability</span>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <div class="chat-area">
            <div class="chat-header">
                <h1>Career Progression Wizard</h1>
                <p>Your personalized guide to internal career development</p>
            </div>

            <div class="chat-messages" id="chatMessages">
            </div>

            <div class="chat-input-area">
                <div class="chat-input-row">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." disabled>
                    <button class="send-btn" id="sendBtn" disabled>Send</button>
                </div>
            </div>
        </div>

        <div class="context-panel" id="contextPanel">
            <div class="panel-content" id="panelContent">
                <h2>Welcome to TAA!</h2>
                <p>I'm here to help you plan your next career steps within our organization.</p>
                <br>
                <p>We'll explore your interests, skills, and goals to find the perfect progression path for you through The Apprentice Academy.</p>

                <div class="three-cs-info">
                    <div class="c-card confidence">
                        <h3>ðŸ”¥ Confidence</h3>
                        <p>Build self-assurance in your career choices and professional abilities.</p>
                    </div>
                    <div class="c-card competence">
                        <h3>ðŸ“š Competence</h3>
                        <p>Develop the skills and expertise needed for your chosen career path.</p>
                    </div>
                    <div class="c-card career">
                        <h3>ðŸŽ¯ Career Capability</h3>
                        <p>Create clear pathways for professional progression and growth.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Career Map Panel (Right Side) -->
        <div class="career-map-panel" id="careerMapPanel">
            <div class="career-map-header">
                <div class="career-map-header-text">
                    <h2>Career Progression Pathways</h2>
                    <p>Explore interactive career paths and opportunities</p>
                </div>
                <button class="fullscreen-btn" id="fullscreenBtn">â›¶ Fullscreen</button>
            </div>
            <div class="career-map-content" id="careerMapContent">
                <!-- Career map SVG will be moved here -->
            </div>
        </div>
    </div>

    <!-- Career Map Overlay -->
    <div class="overlay" id="careerMapOverlay">
        <div class="overlay-content">
            <button class="close-btn" id="closeMapBtn">&times;</button>
            <div class="overlay-header">
                <h2>Career Progression Pathways</h2>
                <p>Explore interactive career paths and progression opportunities</p>
            </div>

            <!-- INTEGRATED SVG STARTS HERE - DO NOT MODIFY -->
            <svg id="CareerMapSVG" version="1.1" viewBox="0 0 841.89 595.28" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<!-- Generator: Adobe Illustrator 29.8.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 2)  -->
<defs>
<!-- Outer halo glow: bright rim + soft halo -->
<filter height="340%" id="outer-glow" width="340%" x="-120%" y="-120%">
<!-- tight rim -->
<femorphology in="SourceAlpha" operator="dilate" radius="1.6" result="spreadInner"></femorphology>
<fegaussianblur in="spreadInner" result="blurInner" stdDeviation="2.2"></fegaussianblur>
<fecolormatrix in="blurInner" result="rim" type="matrix" values="       0 0 0 0 1       0 0 0 0 1       0 0 0 0 1       0 0 0 1 0"></fecolormatrix>
<!-- soft halo -->
<femorphology in="SourceAlpha" operator="dilate" radius="4.2" result="spreadOuter"></femorphology>
<fegaussianblur in="spreadOuter" result="blurOuter" stdDeviation="7"></fegaussianblur>
<fecolormatrix in="blurOuter" result="halo" type="matrix" values="       0 0 0 0 1       0 0 0 0 1       0 0 0 0 1       0 0 0 0.55 0"></fecolormatrix>
<femerge>
<femergenode in="halo"></femergenode>
<femergenode in="rim"></femergenode>
<femergenode in="SourceGraphic"></femergenode>
</femerge>
</filter>
<style>
      .st0 {
        stroke: url(#New_Gradient_Swatch_8);
      }

      .st0, .st1, .st2, .st3, .st4, .st5, .st6, .st7, .st8, .st9, .st10, .st11, .st12, .st13, .st14, .st15, .st16, .st17, .st18, .st19, .st20, .st21, .st22 {
        stroke-miterlimit: 10;
      }

      .st0, .st1, .st2, .st3, .st4, .st5, .st6, .st7, .st8, .st9, .st10, .st11, .st12, .st13, .st14, .st17, .st18, .st19, .st20, .st21, .st22 {
        fill: none;
      }

      .st0, .st1, .st2, .st3, .st4, .st5, .st6, .st7, .st8, .st9, .st10, .st11, .st12, .st13, .st14, .st17, .st18, .st19, .st20, .st22 {
        stroke-width: 2.37px;
      }

      .st1 {
        stroke: url(#New_Gradient_Swatch_9);
      }

      .st2 {
        stroke: url(#New_Gradient_Swatch_5);
      }

      .st3 {
        stroke: url(#New_Gradient_Swatch_6);
      }

      .st4 {
        stroke: url(#New_Gradient_Swatch_7);
      }

      .st23 {
        /* Background colour for the large container. Add pointer-events none so it never intercepts hover
           and thus the outer glow rule will not apply. */
        fill: #1e3a5f; /* TAA Navy */
        pointer-events: none;
      }

      .st24 {
        fill: #ffffff; /* White for text */
      }

      .st5 {
        stroke: #f97316; /* TAA Orange */
      }

      .st6 {
        stroke: url(#linear-gradient1);
      }

      .st7 {
        stroke: url(#linear-gradient2);
      }

      .st8 {
        stroke: url(#linear-gradient4);
      }

      .st9 {
        stroke: url(#linear-gradient3);
      }

      .st10 {
        stroke: url(#New_Gradient_Swatch_82);
      }

      .st11 {
        stroke: url(#New_Gradient_Swatch_91);
      }

      .st12 {
        stroke: url(#New_Gradient_Swatch_81);
      }

      .st13 {
        stroke: url(#New_Gradient_Swatch_92);
      }

      .st14 {
        stroke: url(#New_Gradient_Swatch_10);
      }

      .st25, .st15 {
        fill: #f97316; /* TAA Orange */
      }

      .st15, .st16 {
        stroke: #ffffff;
      }

      .st26, .st16 {
        fill: #0891b2; /* TAA Teal */
      }

      .st27 {
        fill: #ffffff;
      }

      .st17 {
        stroke: url(#linear-gradient);
      }

      .st18 {
        stroke: url(#New_Gradient_Swatch_101);
      }

      .st28 {
        fill: #f97316; /* TAA Orange */
      }

      .st19 {
        stroke: #0891b2; /* TAA Teal */
      }

      .st20 {
        stroke: #f97316; /* TAA Orange */
      }

      .st21 {
        stroke-dasharray: 6.45 6.45;
        stroke-width: 1.62px;
      }

      .st21, .st22 {
        stroke: #ffffff;
      }

      .st29 {
        fill: #2563eb; /* TAA Blue */
      }

      .st30 {
        fill: #0891b2; /* TAA Teal */
      }
    </style>
<lineargradient gradientUnits="userSpaceOnUse" id="linear-gradient" x1="268.63" x2="204.76" y1="295.89" y2="295.89">
<stop offset="0" stop-color="#2563eb"></stop>
<stop offset="1" stop-color="#f97316"></stop>
</lineargradient>
<lineargradient id="linear-gradient1" x1="326.32" x2="326.32" xlink:href="#linear-gradient" y1="239.95" y2="239.95"></lineargradient>
<lineargradient gradientUnits="userSpaceOnUse" id="linear-gradient2" x1="60.04" x2="60.04" y1="482.99" y2="178.88">
<stop offset="0" stop-color="#1e3a5f"></stop>
<stop offset="1" stop-color="#f97316"></stop>
</lineargradient>
<lineargradient gradientUnits="userSpaceOnUse" id="linear-gradient3" x1="654.39" x2="195.02" y1="121.93" y2="121.93">
<stop offset="0" stop-color="#0891b2"></stop>
<stop offset="1" stop-color="#f97316"></stop>
</lineargradient>
<lineargradient data-name="New Gradient Swatch 5" gradientUnits="userSpaceOnUse" id="New_Gradient_Swatch_5" x1="185.56" x2="808.07" y1="348.87" y2="348.87">
<stop offset="0" stop-color="#1e3a5f"></stop>
<stop offset="1" stop-color="#0891b2"></stop>
</lineargradient>
<lineargradient data-name="New Gradient Swatch 6" gradientUnits="userSpaceOnUse" id="New_Gradient_Swatch_6" x1="188.71" x2="583.1" y1="532.56" y2="532.56">
<stop offset="0" stop-color="#1e3a5f"></stop>
<stop offset="1" stop-color="#f97316"></stop>
</lineargradient>
<lineargradient data-name="New Gradient Swatch 7" gradientUnits="userSpaceOnUse" id="New_Gradient_Swatch_7" x1="184.83" x2="268.63" y1="453.15" y2="453.15">
<stop offset="0" stop-color="#1e3a5f"></stop>
<stop offset="1" stop-color="#2563eb"></stop>
</lineargradient>
<lineargradient data-name="New Gradient Swatch 8" gradientUnits="userSpaceOnUse" id="New_Gradient_Swatch_8" x1="762.73" x2="762.73" y1="534.28" y2="142.34">
<stop offset="0" stop-color="#f97316"></stop>
<stop offset="1" stop-color="#0891b2"></stop>
</lineargradient>
<lineargradient data-name="New Gradient Swatch 8" id="New_Gradient_Swatch_81" x1="747.21" x2="747.21" xlink:href="#New_Gradient_Swatch_8" y1="414.12" y2="565.51"></lineargradient>
<lineargradient data-name="New Gradient Swatch 8" id="New_Gradient_Swatch_82" x1="667.75" x2="667.75" xlink:href="#New_Gradient_Swatch_8" y1="393.65" y2="346.9"></lineargradient>
<lineargradient data-name="New Gradient Swatch 9" gradientUnits="userSpaceOnUse" id="New_Gradient_Swatch_9" x1="475.83" x2="651.89" y1="130.03" y2="130.03">
<stop offset="0" stop-color="#2563eb"></stop>
<stop offset="1" stop-color="#0891b2"></stop>
</lineargradient>
<lineargradient data-name="New Gradient Swatch 9" id="New_Gradient_Swatch_91" x1="548.85" x2="578.83" xlink:href="#New_Gradient_Swatch_9" y1="215.39" y2="215.39"></lineargradient>
<lineargradient data-name="New Gradient Swatch 9" id="New_Gradient_Swatch_92" x1="549.29" x2="579.66" xlink:href="#New_Gradient_Swatch_9" y1="316.74" y2="316.74"></lineargradient>
<lineargradient data-name="New Gradient Swatch 10" gradientUnits="userSpaceOnUse" id="New_Gradient_Swatch_10" x1="548.85" x2="579.25" y1="414.01" y2="414.01">
<stop offset="0" stop-color="#2563eb"></stop>
<stop offset="1" stop-color="#f97316"></stop>
</lineargradient>
<lineargradient data-name="New Gradient Swatch 10" id="New_Gradient_Swatch_101" x1="547.52" x2="583.42" xlink:href="#New_Gradient_Swatch_10" y1="495.8" y2="495.8"></lineargradient>
<lineargradient id="linear-gradient4" x1="85.27" x2="85.27" xlink:href="#linear-gradient2" y1="482.57" y2="178.46"></lineargradient>
</defs>
<style>
  text { pointer-events: none; }

  /* Disable pointer events for letter glyph paths so that hovering over text does not trigger glow */
  path.st24, path.st27 {
    pointer-events: none;
  }

  /* Hover glow on likely node shapes, excluding dashed outlines/connectors */
  /* Apply the glow filter only to node shapes, not the letter glyphs.  */
  /* Exclude the background rectangle (class st23) from the hover glow rule */
  rect:not([stroke-dasharray]):not(.st23):hover,
  circle:not([stroke-dasharray]):hover,
  ellipse:not([stroke-dasharray]):hover,
  /* For paths and polygons, exclude classes used for text (st24 and st27) so letters don't glow */
  /* When hovering over arbitrary paths and polygons (likely connector shapes),
     we want to avoid applying the outer glow to elements that also serve as
     connectors.  Without this exclusion the glow filter creates a new
     stacking context and visually lifts the connector above overlapping
     shapes.  Therefore, exclude any elements with the pulse-target class
     from this generic hover rule. */
  path:not([stroke-dasharray]):not(.st24):not(.st27):hover:not(.pulse-target),
  polygon:not([stroke-dasharray]):not(.st24):not(.st27):hover:not(.pulse-target) {
    filter: url(#outer-glow);
    stroke: #FFFFFF;
    stroke-width: 4;
    cursor: pointer;
  }

  /* Explicitly prevent connectors (pulse-target) from picking up the outer glow
     on direct hover.  When these elements are hovered, rely solely on the
     scripted pulse animation instead of the glow filter. */
  .pulse-target:hover {
    filter: none !important;
    stroke-width: inherit;
  }

  /* Disable pointer events on all pulse-target connectors.  Without this
     rule, connectors that overlap boxes (e.g. the arrow from Accountancy
     Level&nbsp;2 to Accountancy Level&nbsp;3 and&nbsp;4) intercept hover events and
     prevent the underlying box from receiving mouseenter/mouseleave
     events.  By turning off pointer events, the hover logic for boxes
     triggers correctly. */
  .pulse-target {
    pointer-events: none;
  }

  /* Disable pointer events on other connector classes as well.  These
     classes correspond to the various line and arrow shapes used to
     draw connections between nodes.  Setting pointer-events to none
     prevents these connectors from triggering the generic hover rule
     and ensures that only hovering over nodes triggers glows. */
  path.st5,
  path.st6,
  line.st7,
  path.st8,
  path.st9,
  path.st17,
  line.st20,
  line.st22,
  path.st26,
  path.st29,
  path.st30 {
    pointer-events: none;
  }

  /* Slow pulsing highlight for connectors triggered by hovering over the Accountancy Level&nbsp;2 box.
     This animation only adjusts stroke colour and opacity and does not apply an outer glow,
     ensuring the highlight does not appear beneath overlapping shapes. */
  /* Pulse animation removed */

  /* Applied by script to connectors when the Accountancy Level&nbsp;2 box is
     hovered.  Override the stroke colour to white and animate the
     opacity.  Do not override the stroke width so it inherits from
     the base class (2.37px) and avoids bleeding under overlapping
     elements. */
  .pulse-glow {
    /* Animation removed - static glow */
    /* Highlight the connector stroke in white without changing
       the underlying geometry.  We do not increase stroke width here so
       the glow remains the same thickness as the original line and does
       not bleed over overlapping boxes. */
    stroke: #FFFFFF !important;
    /* Inherit the original stroke-width and cap/join settings from the
       base class so the pulsing line matches the underlying geometry. */
    stroke-width: inherit;
    stroke-linecap: inherit;
    stroke-linejoin: inherit;
    /* Ensure the duplicate connector is visible by overriding any
       inherited stroke-opacity set to 0. */
    stroke-opacity: 1;
    /* Do not override fill or apply a halo. */
    fill: none;
  }

  /* Hide original connectors when pulsing so that only the
     behind-the-scenes duplicates are visible.  Hiding the originals
     prevents the pulsing line from being drawn on top of any nodes
     because the duplicates live in a lower stacking order. */
  .pulse-hidden {
    /* Hide by removing stroke opacity rather than display:none so the geometry remains */
    stroke-opacity: 0 !important;
  }

  /* Duplicated connectors start fully transparent so they do not appear
     until the pulsing animation is triggered.  They do not intercept
     pointer events. */
  .connector-duplicate-l2,
  .connector-duplicate-l3-4,
  .connector-duplicate-ba,
  .connector-duplicate-dt3 {
    /* Duplicated connectors start fully transparent so they do not appear
       until the pulsing animation is triggered.  They do not intercept
       pointer events. */
    stroke-opacity: 0;
    pointer-events: none;
  }

  /* Prevent original connectors from intercepting pointer events so that
     hovering over the boxes will always trigger the desired pulsing effect.
     The connectors themselves have no hover behaviour, so disabling
     pointer events here does not affect interactivity. */
  path.pulse-target,
  line.pulse-target {
    pointer-events: none;
  }

  /* Highlight the dashed container around the central circles when
     hovering over Accountancy Level&nbsp;2.  This class applies the
     outer glow filter and a thicker white stroke to the dashed
     rectangle.  Because the rectangle itself is dashed, increasing
     the stroke width slightly and applying the glow filter
     produces a soft halo around the container without altering
     the underlying geometry. */
  .glow-dash-container {
    filter: url(#outer-glow);
    stroke: #FFFFFF;
    stroke-width: 3;
  }

  .connector-duplicate-pl4 { stroke-opacity: 0; pointer-events: none; }

  .connector-duplicate-pl3 { stroke-opacity: 0; pointer-events: none; }
